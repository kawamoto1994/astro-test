name: Build the site

on:
  repository_dispatch:
    types: [microcms_update]

jobs:
  create-release:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - name: Run build
        run: npm run build
        uses: SamKirkland/FTP-Deploy-Action@2.0.0   # FTPã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒãƒ¼ã«Deployã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
        env:                                        # FTPç’°å¢ƒã®è¨­å®šã‚’è¡Œã†
          FTP_SERVER: ${{ secrets.FTP_SERVER }}     # FTPã‚µãƒ¼ãƒãƒ¼ã®URLã‚’è¨­å®š
          FTP_USERNAME: ${{ secrets.FTP_USERNAME }} # FTPã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’è¨­å®š
          FTP_PASSWORD: ${{ secrets.FTP_PASSWORD }} # FTPã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š
          LOCAL_DIR: dist                           # ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹
          REMOTE_DIR: mocchify.xsrv.jp/httdocs       # ãƒªãƒ¢ãƒ¼ãƒˆã®ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹
          ARGS: --delete
